{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/blazy/blazy.js","webpack:///./source/js/src/controllers/gallery-controller.js","webpack:///./source/js/src/controllers/popup-controller.js","webpack:///./source/js/src/controllers/questions-controller.js","webpack:///./source/js/src/controllers/reviews-controller.js","webpack:///./source/js/src/controllers/webp-controller.js","webpack:///./source/js/src/controllers/yandex-map.js","webpack:///./source/js/src/main.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,IAA0C;AAClD;AACA,QAAQ,oCAAO,KAAK;AAAA;AAAA;AAAA;AAAA,oGAAC;AACrB,KAAK,MAAM,EAQN;AACL,CAAC;AACD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,KAAK;AACvC;AACA,sCAAsC,KAAK;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,iBAAiB;AACjB;AACA;AACA,oC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA,SAAS,EAAE;;AAEX;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,S;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6EAA6E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,oDAAoD;;AAEpD,iBAAiB,OAAO;AACxB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8CAA8C;AAC9C;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kC;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAqC,KAAK;AAC1C;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,4CAA4C,gCAAgC;AAC5E;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT,+CAA+C,gCAAgC;AAC/E;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,qCAAqC;AAChE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACjXD;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;;;;;;;;;;;;AC7EA;AAAA;AAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACrFA;AAAA;AAAO;AACP;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;;;;;;;;;;;ACzBA;AAAA;AAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH,iCAAiC,aAAa;;AAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL,iCAAiC,eAAe,GAAG,aAAa;AAChE,GAAG;;AAEH;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;;;;;;;;;;;;ACjDA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;;AAEH;;;;;;;;;;;;;ACpBA;AAAA;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;;AAEP;;AAEA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA,OAAO;;AAEP;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA0E;AACJ;AACA;AACJ;AACF;AACA;;AAEtC;;AAE1B,kBAAkB,4CAAK;AACvB;AACA,CAAC;;AAED,sFAAc;;AAEd;;AAEA,wFAAe;;AAEf;;AAEA,gGAAmB;;AAEnB;;AAEA,4FAAiB;;;AAGjB;;AAEA,4FAAiB;;;AAGjB;;AAEA,sFAAmB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./source/js/src/main.js\");\n","/*!\n  hey, [be]Lazy.js - v1.8.2 - 2016.10.25\n  A fast, small and dependency free lazy load script (https://github.com/dinbror/blazy)\n  (c) Bjoern Klinggaard - @bklinggaard - http://dinbror.dk/blazy\n*/\n;\n(function(root, blazy) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register bLazy as an anonymous module\n        define(blazy);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = blazy();\n    } else {\n        // Browser globals. Register bLazy on window\n        root.Blazy = blazy();\n    }\n})(this, function() {\n    'use strict';\n\n    //private vars\n    var _source, _viewport, _isRetina, _supportClosest, _attrSrc = 'src', _attrSrcset = 'srcset';\n\n    // constructor\n    return function Blazy(options) {\n        //IE7- fallback for missing querySelectorAll support\n        if (!document.querySelectorAll) {\n            var s = document.createStyleSheet();\n            document.querySelectorAll = function(r, c, i, j, a) {\n                a = document.all, c = [], r = r.replace(/\\[for\\b/gi, '[htmlFor').split(',');\n                for (i = r.length; i--;) {\n                    s.addRule(r[i], 'k:v');\n                    for (j = a.length; j--;) a[j].currentStyle.k && c.push(a[j]);\n                    s.removeRule(0);\n                }\n                return c;\n            };\n        }\n\n        //options and helper vars\n        var scope = this;\n        var util = scope._util = {};\n        util.elements = [];\n        util.destroyed = true;\n        scope.options = options || {};\n        scope.options.error = scope.options.error || false;\n        scope.options.offset = scope.options.offset || 100;\n        scope.options.root = scope.options.root || document;\n        scope.options.success = scope.options.success || false;\n        scope.options.selector = scope.options.selector || '.b-lazy';\n        scope.options.separator = scope.options.separator || '|';\n        scope.options.containerClass = scope.options.container;\n        scope.options.container = scope.options.containerClass ? document.querySelectorAll(scope.options.containerClass) : false;\n        scope.options.errorClass = scope.options.errorClass || 'b-error';\n        scope.options.breakpoints = scope.options.breakpoints || false;\n        scope.options.loadInvisible = scope.options.loadInvisible || false;\n        scope.options.successClass = scope.options.successClass || 'b-loaded';\n        scope.options.validateDelay = scope.options.validateDelay || 25;\n        scope.options.saveViewportOffsetDelay = scope.options.saveViewportOffsetDelay || 50;\n        scope.options.srcset = scope.options.srcset || 'data-srcset';\n        scope.options.src = _source = scope.options.src || 'data-src';\n        _supportClosest = Element.prototype.closest;\n        _isRetina = window.devicePixelRatio > 1;\n        _viewport = {};\n        _viewport.top = 0 - scope.options.offset;\n        _viewport.left = 0 - scope.options.offset;\n\n\n        /* public functions\n         ************************************/\n        scope.revalidate = function() {\n            initialize(scope);\n        };\n        scope.load = function(elements, force) {\n            var opt = this.options;\n            if (elements && elements.length === undefined) {\n                loadElement(elements, force, opt);\n            } else {\n                each(elements, function(element) {\n                    loadElement(element, force, opt);\n                });\n            }\n        };\n        scope.destroy = function() {            \n            var util = scope._util;\n            if (scope.options.container) {\n                each(scope.options.container, function(object) {\n                    unbindEvent(object, 'scroll', util.validateT);\n                });\n            }\n            unbindEvent(window, 'scroll', util.validateT);\n            unbindEvent(window, 'resize', util.validateT);\n            unbindEvent(window, 'resize', util.saveViewportOffsetT);\n            util.count = 0;\n            util.elements.length = 0;\n            util.destroyed = true;\n        };\n\n        //throttle, ensures that we don't call the functions too often\n        util.validateT = throttle(function() {\n            validate(scope);\n        }, scope.options.validateDelay, scope);\n        util.saveViewportOffsetT = throttle(function() {\n            saveViewportOffset(scope.options.offset);\n        }, scope.options.saveViewportOffsetDelay, scope);\n        saveViewportOffset(scope.options.offset);\n\n        //handle multi-served image src (obsolete)\n        each(scope.options.breakpoints, function(object) {\n            if (object.width >= window.screen.width) {\n                _source = object.src;\n                return false;\n            }\n        });\n\n        // start lazy load\n        setTimeout(function() {\n            initialize(scope);\n        }); // \"dom ready\" fix\n\n    };\n\n\n    /* Private helper functions\n     ************************************/\n    function initialize(self) {\n        var util = self._util;\n        // First we create an array of elements to lazy load\n        util.elements = toArray(self.options);\n        util.count = util.elements.length;\n        // Then we bind resize and scroll events if not already binded\n        if (util.destroyed) {\n            util.destroyed = false;\n            if (self.options.container) {\n                each(self.options.container, function(object) {\n                    bindEvent(object, 'scroll', util.validateT);\n                });\n            }\n            bindEvent(window, 'resize', util.saveViewportOffsetT);\n            bindEvent(window, 'resize', util.validateT);\n            bindEvent(window, 'scroll', util.validateT);\n        }\n        // And finally, we start to lazy load.\n        validate(self);\n    }\n\n    function validate(self) {\n        var util = self._util;\n        for (var i = 0; i < util.count; i++) {\n            var element = util.elements[i];\n            if (elementInView(element, self.options) || hasClass(element, self.options.successClass)) {\n                self.load(element);\n                util.elements.splice(i, 1);\n                util.count--;\n                i--;\n            }\n        }\n        if (util.count === 0) {\n            self.destroy();\n        }\n    }\n\n    function elementInView(ele, options) {\n        var rect = ele.getBoundingClientRect();\n\n        if(options.container && _supportClosest){\n            // Is element inside a container?\n            var elementContainer = ele.closest(options.containerClass);\n            if(elementContainer){\n                var containerRect = elementContainer.getBoundingClientRect();\n                // Is container in view?\n                if(inView(containerRect, _viewport)){\n                    var top = containerRect.top - options.offset;\n                    var right = containerRect.right + options.offset;\n                    var bottom = containerRect.bottom + options.offset;\n                    var left = containerRect.left - options.offset;\n                    var containerRectWithOffset = {\n                        top: top > _viewport.top ? top : _viewport.top,\n                        right: right < _viewport.right ? right : _viewport.right,\n                        bottom: bottom < _viewport.bottom ? bottom : _viewport.bottom,\n                        left: left > _viewport.left ? left : _viewport.left\n                    };\n                    // Is element in view of container?\n                    return inView(rect, containerRectWithOffset);\n                } else {\n                    return false;\n                }\n            }\n        }      \n        return inView(rect, _viewport);\n    }\n\n    function inView(rect, viewport){\n        // Intersection\n        return rect.right >= viewport.left &&\n               rect.bottom >= viewport.top && \n               rect.left <= viewport.right && \n               rect.top <= viewport.bottom;\n    }\n\n    function loadElement(ele, force, options) {\n        // if element is visible, not loaded or forced\n        if (!hasClass(ele, options.successClass) && (force || options.loadInvisible || (ele.offsetWidth > 0 && ele.offsetHeight > 0))) {\n            var dataSrc = getAttr(ele, _source) || getAttr(ele, options.src); // fallback to default 'data-src'\n            if (dataSrc) {\n                var dataSrcSplitted = dataSrc.split(options.separator);\n                var src = dataSrcSplitted[_isRetina && dataSrcSplitted.length > 1 ? 1 : 0];\n                var srcset = getAttr(ele, options.srcset);\n                var isImage = equal(ele, 'img');\n                var parent = ele.parentNode;\n                var isPicture = parent && equal(parent, 'picture');\n                // Image or background image\n                if (isImage || ele.src === undefined) {\n                    var img = new Image();\n                    // using EventListener instead of onerror and onload\n                    // due to bug introduced in chrome v50 \n                    // (https://productforums.google.com/forum/#!topic/chrome/p51Lk7vnP2o)\n                    var onErrorHandler = function() {\n                        if (options.error) options.error(ele, \"invalid\");\n                        addClass(ele, options.errorClass);\n                        unbindEvent(img, 'error', onErrorHandler);\n                        unbindEvent(img, 'load', onLoadHandler);\n                    };\n                    var onLoadHandler = function() {\n                        // Is element an image\n                        if (isImage) {\n                            if(!isPicture) {\n                                handleSources(ele, src, srcset);\n                            }\n                        // or background-image\n                        } else {\n                            ele.style.backgroundImage = 'url(\"' + src + '\")';\n                        }\n                        itemLoaded(ele, options);\n                        unbindEvent(img, 'load', onLoadHandler);\n                        unbindEvent(img, 'error', onErrorHandler);\n                    };\n                    \n                    // Picture element\n                    if (isPicture) {\n                        img = ele; // Image tag inside picture element wont get preloaded\n                        each(parent.getElementsByTagName('source'), function(source) {\n                            handleSource(source, _attrSrcset, options.srcset);\n                        });\n                    }\n                    bindEvent(img, 'error', onErrorHandler);\n                    bindEvent(img, 'load', onLoadHandler);\n                    handleSources(img, src, srcset); // Preload\n\n                } else { // An item with src like iframe, unity games, simpel video etc\n                    ele.src = src;\n                    itemLoaded(ele, options);\n                }\n            } else {\n                // video with child source\n                if (equal(ele, 'video')) {\n                    each(ele.getElementsByTagName('source'), function(source) {\n                        handleSource(source, _attrSrc, options.src);\n                    });\n                    ele.load();\n                    itemLoaded(ele, options);\n                } else {\n                    if (options.error) options.error(ele, \"missing\");\n                    addClass(ele, options.errorClass);\n                }\n            }\n        }\n    }\n\n    function itemLoaded(ele, options) {\n        addClass(ele, options.successClass);\n        if (options.success) options.success(ele);\n        // cleanup markup, remove data source attributes\n        removeAttr(ele, options.src);\n        removeAttr(ele, options.srcset);\n        each(options.breakpoints, function(object) {\n            removeAttr(ele, object.src);\n        });\n    }\n\n    function handleSource(ele, attr, dataAttr) {\n        var dataSrc = getAttr(ele, dataAttr);\n        if (dataSrc) {\n            setAttr(ele, attr, dataSrc);\n            removeAttr(ele, dataAttr);\n        }\n    }\n\n    function handleSources(ele, src, srcset){\n        if(srcset) {\n            setAttr(ele, _attrSrcset, srcset); //srcset\n        }\n        ele.src = src; //src \n    }\n\n    function setAttr(ele, attr, value){\n        ele.setAttribute(attr, value);\n    }\n\n    function getAttr(ele, attr) {\n        return ele.getAttribute(attr);\n    }\n\n    function removeAttr(ele, attr){\n        ele.removeAttribute(attr); \n    }\n\n    function equal(ele, str) {\n        return ele.nodeName.toLowerCase() === str;\n    }\n\n    function hasClass(ele, className) {\n        return (' ' + ele.className + ' ').indexOf(' ' + className + ' ') !== -1;\n    }\n\n    function addClass(ele, className) {\n        if (!hasClass(ele, className)) {\n            ele.className += ' ' + className;\n        }\n    }\n\n    function toArray(options) {\n        var array = [];\n        var nodelist = (options.root).querySelectorAll(options.selector);\n        for (var i = nodelist.length; i--; array.unshift(nodelist[i])) {}\n        return array;\n    }\n\n    function saveViewportOffset(offset) {\n        _viewport.bottom = (window.innerHeight || document.documentElement.clientHeight) + offset;\n        _viewport.right = (window.innerWidth || document.documentElement.clientWidth) + offset;\n    }\n\n    function bindEvent(ele, type, fn) {\n        if (ele.attachEvent) {\n            ele.attachEvent && ele.attachEvent('on' + type, fn);\n        } else {\n            ele.addEventListener(type, fn, { capture: false, passive: true });\n        }\n    }\n\n    function unbindEvent(ele, type, fn) {\n        if (ele.detachEvent) {\n            ele.detachEvent && ele.detachEvent('on' + type, fn);\n        } else {\n            ele.removeEventListener(type, fn, { capture: false, passive: true });\n        }\n    }\n\n    function each(object, fn) {\n        if (object && fn) {\n            var l = object.length;\n            for (var i = 0; i < l && fn(object[i], i) !== false; i++) {}\n        }\n    }\n\n    function throttle(fn, minDelay, scope) {\n        var lastCall = 0;\n        return function() {\n            var now = +new Date();\n            if (now - lastCall < minDelay) {\n                return;\n            }\n            lastCall = now;\n            fn.apply(scope, arguments);\n        };\n    }\n});\n","export const galleryController = () => {\n  const galleryContainer = document.querySelector(`.gallery-section`);\n  const galleryControlsContainer = galleryContainer.querySelector(`.gallery-section__controls-container`);\n  const sliderItems = galleryContainer.querySelectorAll(`.gallery-section__item`);\n  const sliderPointsContainer = galleryContainer.querySelector(`.gallery-section__slider-points`);\n  const sliderPoints = galleryContainer.querySelectorAll(`.gallery-section__slider-point`);\n\n  const showControls = () => {\n    if (!galleryControlsContainer.classList.contains(`gallery-section__controls-container--on`) && galleryContainer.offsetWidth < 1024) {\n      galleryControlsContainer.classList.add(`gallery-section__controls-container--on`);\n    }\n  };\n\n  showControls();\n\n  const slides = [];\n  let clickCount = 0;\n\n  sliderItems.forEach(function (slide, index) {\n    slides.push({\n      slide,\n      index,\n    });\n  });\n\n  const slideStep = -parseFloat(getComputedStyle(sliderItems[0]).width);\n  sliderPoints[clickCount].classList.add(`gallery-section__slider-point--active`);\n\n  galleryControlsContainer.addEventListener(`click`, function (evt) {\n    const controlType = evt.target.classList.contains(`gallery-section__control--left`) ? `left` : `right`;\n    if (evt.target.tagName === `BUTTON` && controlType === `right`) {\n      clickCount += 1;\n      if (clickCount >= slides.length) {\n        clickCount = 0;\n      }\n    }\n\n    if (evt.target.tagName === `BUTTON` && controlType === `left`) {\n      clickCount -= 1;\n      if (clickCount < 0) {\n        clickCount = slides.length - 1;\n      }\n    }\n\n    sliderPoints.forEach((item) => {\n      item.classList.remove(`gallery-section__slider-point--active`);\n    });\n\n    sliderPoints[clickCount].classList.add(`gallery-section__slider-point--active`);\n\n    slides.forEach((item) => {\n      item.slide.style.transform = `translateX(` + slideStep * clickCount + `px)`;\n    });\n  });\n\n  sliderPointsContainer.addEventListener(`click`, function (evt) {\n    if (evt.target.tagName === `LI`) {\n      clickCount = evt.target.dataset.point;\n      slides.forEach((item) => {\n        item.slide.style.transform = `translateX(` + slideStep * clickCount + `px)`;\n      });\n    }\n  });\n\n  window.addEventListener(`resize`, function () {\n    if (galleryContainer.offsetWidth < 1024) {\n      showControls();\n      slides.forEach((item) => {\n        item.slide.style.transform = `translateX(` + slideStep * clickCount + `px)`;\n      });\n    } else {\n      galleryControlsContainer.classList.remove(`gallery-section__controls-container--on`);\n      slides.forEach((item) => {\n        item.slide.style.transform = `translateX(` + 0 + `px)`;\n      });\n    }\n  }, false);\n};\n","export const popupController = () => {\n  const mainSection = document.querySelector(`main`);\n  const callLink = document.querySelector(`.page-header__link--order`);\n  const contactSectionForm = document.querySelector(`.contact-section__form`);\n  const detailsSectionForm = document.querySelector(`.details-section__feedback-form`);\n\n  const popupCallTemplate = document.querySelector(`#call-popup`).content;\n  const popupResultTemplate = document.querySelector(`#result-popup`).content;\n\n  const ESC_KEY = 27;\n\n  const addCallPopup = () => {\n    const popupCallContainer = popupCallTemplate.cloneNode(true);\n    mainSection.appendChild(popupCallContainer);\n    const popupCall = document.querySelector(`.call-popup`);\n    const closeButton = popupCall.querySelector(`.call-popup__close-button`);\n    const popupForm = document.querySelector(`.call-popup__form`);\n\n    document.body.style.overflow = `hidden`;\n\n    deletePopup(popupCall, closeButton);\n    popupForm.addEventListener(`submit`, onPopupResultSubmit);\n  };\n\n  const addResultPopup = () => {\n    const popupResultContainer = popupResultTemplate.cloneNode(true);\n    mainSection.appendChild(popupResultContainer);\n    const popupResult = document.querySelector(`.result-popup`);\n    const closeButton = popupResult.querySelector(`.result-popup__close-button`);\n    const okButton = popupResult.querySelector(`.result-popup__button`);\n\n    document.body.style.overflow = `hidden`;\n\n    deletePopup(popupResult, closeButton);\n    deletePopup(popupResult, okButton);\n  };\n\n  const onPopupResultSubmit = (evt) => {\n    evt.preventDefault();\n    const popupCall = document.querySelector(`.call-popup`);\n    const popupResult = document.querySelector(`.result-popup`);\n    popupCall.remove();\n    if (!popupResult) {\n      addResultPopup();\n    }\n    document.removeEventListener(`click`, onPopupResultSubmit);\n  };\n\n  const deletePopup = (popup, closeButton) => {\n    const onPopupClose = function () {\n      popup.remove();\n      document.body.style.overflow = `auto`;\n      document.removeEventListener(`keydown`, onPopupEscPress);\n      document.removeEventListener(`click`, onPopupClose);\n    };\n\n    const onPopupEscPress = function (evt) {\n      if (evt.keyCode === ESC_KEY) {\n        onPopupClose();\n      }\n    };\n\n    closeButton.addEventListener(`click`, onPopupClose);\n    document.addEventListener(`keydown`, onPopupEscPress);\n  };\n\n  const onCallLinkClick = (evt) => {\n    evt.preventDefault();\n    const popupCall = document.querySelector(`.call-popup`);\n    if (!popupCall) {\n      addCallPopup();\n    }\n  };\n\n  const onSubmitButtonClick = (evt) => {\n    evt.preventDefault();\n    const popupResult = document.querySelector(`.result-popup`);\n    if (!popupResult) {\n      addResultPopup();\n    }\n  };\n\n  callLink.addEventListener(`click`, onCallLinkClick);\n  detailsSectionForm.addEventListener(`submit`, onSubmitButtonClick);\n  contactSectionForm.addEventListener(`submit`, onSubmitButtonClick);\n};\n","export const questionsController = () => {\n  const questionsList = document.querySelector(`.questions-section__list`);\n  const questionItems = questionsList.querySelectorAll(`.questions-section__item`);\n\n  questionItems.forEach((item) => {\n    item.classList.add(`questions-section__item--closed`);\n  });\n\n  questionsList.addEventListener(`click`, function (evt) {\n    if (evt.target.tagName === `BUTTON`) {\n      const questionItem = evt.target.parentElement;\n      const questionDescription = questionItem.querySelector(`.questions-section__item-description`);\n\n      if (questionItem.classList.contains(`questions-section__item--closed`)) {\n        questionItem.classList.remove(`questions-section__item--closed`);\n        questionItem.classList.add(`questions-section__item--open`);\n        questionDescription.classList.add(`answer-show`);\n      } else {\n        questionItem.classList.add(`questions-section__item--closed`);\n        questionItem.classList.remove(`questions-section__item--open`);\n        questionDescription.classList.remove(`answer-show`);\n      }\n\n    }\n  });\n};\n","export const reviewsController = () => {\n  const sliderContainer = document.querySelector(`.reviews-section__slider`);\n  const sliderItems = sliderContainer.querySelectorAll(`.reviews-section__slider-item`);\n  const sliderControllers = sliderContainer.querySelector(`.reviews-section__controls-container`);\n  const sliderCounter = sliderContainer.querySelector(`.reviews-section__control-count`);\n\n  const slideWidth = parseFloat(getComputedStyle(sliderItems[0]).width);\n  let slideStep = -slideWidth;\n\n  sliderControllers.classList.add(`reviews-section__controls-container--visible`);\n\n  const items = [];\n  let clickCount = 0;\n  sliderItems.forEach(function (item) {\n    items.push({\n      item,\n    });\n  });\n  sliderCounter.innerHTML = `1/${items.length}`;\n\n  sliderControllers.addEventListener(`click`, function (evt) {\n    const controlType = evt.target.classList.contains(`reviews-section__control--left`) ? `left` : `right`;\n    if (evt.target.tagName === `BUTTON` && controlType === `right`) {\n      clickCount += 1;\n      if (clickCount >= items.length) {\n        clickCount = 0;\n      }\n    }\n\n    if (evt.target.tagName === `BUTTON` && controlType === `left`) {\n      clickCount -= 1;\n      if (clickCount < 0) {\n        clickCount = items.length - 1;\n      }\n    }\n\n    items.forEach((item) => {\n      item.item.style.transform = `translateX(` + slideStep * clickCount + `px)`;\n    });\n\n    sliderCounter.innerHTML = `${clickCount + 1}/${items.length}`;\n  });\n\n  window.addEventListener(`resize`, function () {\n    slideStep = -parseFloat(getComputedStyle(sliderItems[0]).width);\n    items.forEach((item) => {\n      item.item.style.transform = `translateX(` + slideStep * clickCount + `px)`;\n    });\n  }, false);\n};\n","export const webpController = () => {\n  const canUseWebp = () => {\n    let elem = document.createElement('canvas');\n    if (!!(elem.getContext && elem.getContext('2d'))) {\n      return elem.toDataURL('image/webp').indexOf('data:image/webp') == 0;\n    }\n    return false;\n  }\n\n  document.addEventListener(\"DOMContentLoaded\", () => {\n    if (canUseWebp()) {\n      let images = document.querySelectorAll('[data-bg]');\n      images.forEach((image, i) => {\n        const webpClass = image.classList[0] + `--webp-on`;\n        image.classList.add(webpClass);\n        console.log(image.classList);\n      });\n    }\n  });\n\n};\n","export const yandexMapController = () => {\n  const defaultMap = document.querySelector(`.details-section__map`);\n  defaultMap.classList.add(`details-section__map--off`);\n  const yandexMap = document.querySelector(`.details-section__iframe-container`);\n  yandexMap.classList.add(`details-section__iframe-container--on`);\n  ymaps.ready(function () {\n    const myMap = new ymaps.Map(`map`, {\n        center: [55.028522, 82.928281],\n        zoom: 18\n      }, {\n        searchControlProvider: `yandex#search`\n      }),\n\n      // Создаём макет содержимого.\n\n      myPlacemark = new ymaps.Placemark(myMap.getCenter(), {\n        hintContent: `Новосибирск, ул. Щетинкина 68, культурный центр «Бейт Менахем»`,\n        balloonContent: `Новосибирск, ул. Щетинкина 68, культурный центр «Бейт Менахем»`\n      }, {\n\n        // Опции.\n        // Необходимо указать данный тип макета.\n\n        iconLayout: `default#image`,\n\n        // Своё изображение иконки метки.\n\n        iconImageHref: \"img/map-pin.png\",\n\n        // Размеры метки.\n\n        iconImageSize: [18, 28],\n        iconImageOffset: [-25, -55]\n      });\n\n    myMap.geoObjects\n        .add(myPlacemark);\n  });\n};\n","import {questionsController} from \"./controllers/questions-controller.js\";\nimport {reviewsController} from \"./controllers/reviews-controller.js\";\nimport {galleryController} from \"./controllers/gallery-controller.js\";\nimport {popupController} from \"./controllers/popup-controller.js\";\nimport {webpController} from \"./controllers/webp-controller.js\";\nimport {yandexMapController} from \"./controllers/yandex-map.js\";\n\nimport Blazy from \"blazy\";\n\nconst bLazy = new Blazy({\n  selector: 'img' // all images\n});\n\nwebpController();\n\n// call-popup\n\npopupController();\n\n// Открытие/закрытие ответа на вопрос в questions-section\n\nquestionsController();\n\n// Активация слайдера для reviews-section\n\nreviewsController();\n\n\n// Активация слайдера для gallery-section\n\ngalleryController();\n\n\n// Подключение Яндекс карт\n\nyandexMapController();\n"],"sourceRoot":""}